(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{256:function(n,e,a){"use strict";a.r(e);var t=a(28),s=Object(t.a)({},(function(){var n=this,e=n.$createElement,a=n._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("FROM node:10.16.3\n\nENV NODE_ENV production\n\nCOPY . .\n\nRUN npm config set registry https://registry.npm.taobao.org && npm install && npm run build\n\nEXPOSE 80\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("laoergege@DESKTOP-6LK9S92:/mnt/d/project/xyl-admin$ docker images\nREPOSITORY          TAG                 IMAGE ID            CREATED              SIZE \nxly-admin           1.0.0               3031cdfe3054        About a minute ago   884MB\n<none>              <none>              815ec28c68be        11 minutes ago       677MB\n<none>              <none>              99a8010ec3e1        19 minutes ago       671MB\n<none>              <none>              bab3e92e6be8        43 minutes ago       908MB\n<none>              <none>              a041d302d801        48 minutes ago       908MB\nnginx               latest              ab56bba91343        6 days ago           126MB\nnode                10.16.3             636ef87129d6        7 days ago           904MB\nnode                8.11.3              ed145ef978c4        14 months ago        673MB\nnode                8.0.0               065e283f68bd        2 years ago          667MB\n")])])]),a("h3",{attrs:{id:"利用镜像缓存机制提高-docker-镜像构建时间"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#利用镜像缓存机制提高-docker-镜像构建时间"}},[n._v("#")]),n._v(" 利用镜像缓存机制提高 docker 镜像构建时间")]),n._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("laoergege@DESKTOP-6LK9S92:/mnt/d/project/xyl-admin$ docker build -t xly-admin:1.0.0 .\nSending build context to Docker daemon  6.132MB\nStep 1/6 : FROM node:8.11.3\n ---\x3e ed145ef978c4\nStep 2/6 : COPY ./package.json .\n ---\x3e f941cf3f46c1\nStep 3/6 : RUN npm config set registry https://registry.npm.taobao.org && npm install     \n ---\x3e Running in 083a4f49438e\nnpm WARN deprecated bfj-node4@5.3.1: Switch to the `bfj` package for fixes and new features!\nnpm WARN deprecated circular-json@0.3.3: CircularJSON is in maintenance only, flatted is its successor.\n\n> node-sass@4.12.0 install /node_modules/node-sass\n> node scripts/install.js\n\n ...省略...\n\nadded 1408 packages in 42.277s\nRemoving intermediate container 083a4f49438e\n ---\x3e 927c886a635a\nStep 4/6 : COPY . .\n ---\x3e 735bd021e5e0\nStep 5/6 : RUN npm run build\n ---\x3e Running in 69878e30adec\n\n> xyl-admin@3.8.0 build /\n> node build/build.js\n\n- building for production...\n \n ...省略...\n\nRemoving intermediate container 69878e30adec\n ---\x3e b71dd3eb269d\nStep 6/6 : EXPOSE 80\n ---\x3e Running in 83fc4360f563\nRemoving intermediate container 83fc4360f563\n ---\x3e a8e197cd1643\nSuccessfully built a8e197cd1643\nSuccessfully tagged xly-admin:1.0.0\n")])])]),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[n._v("laoergege@DESKTOP-6LK9S92:/mnt/d/project/xyl-admin$ docker build -t xly-admin:1.0.0 .\nSending build context to Docker daemon  6.132MB\nStep 1/6 : FROM node:8.11.3\n ---\x3e ed145ef978c4\nStep 2/6 : COPY ./package.json .\n ---\x3e Using cache\n ---\x3e f941cf3f46c1\nStep 3/6 : RUN npm config set registry https://registry.npm.taobao.org && npm install     \n ---\x3e Using cache\n ---\x3e 927c886a635a\nStep 4/6 : COPY . .\n ---\x3e Using cache\n ---\x3e 735bd021e5e0\nStep 5/6 : RUN npm run build\n ---\x3e Using cache\n ---\x3e b71dd3eb269d\nStep 6/6 : EXPOSE 80\n ---\x3e Using cache\n ---\x3e a8e197cd1643\nSuccessfully built a8e197cd1643\nSuccessfully tagged xly-admin:1.0.0\n")])])]),a("h3",{attrs:{id:"多阶段构建"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#多阶段构建"}},[n._v("#")]),n._v(" 多阶段构建")])])}),[],!1,null,null,null);e.default=s.exports}}]);