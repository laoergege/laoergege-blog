(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{355:function(a,t,e){"use strict";e.r(t);var n=e(33),s=Object(n.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"mongodb-window服务安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#mongodb-window服务安装"}},[a._v("#")]),a._v(" MongoDB window服务安装")]),a._v(" "),e("ol",[e("li",[a._v("下载 "),e("a",{attrs:{href:"https://docs.mongodb.com/",target:"_blank",rel:"noopener noreferrer"}},[a._v("MongoDB"),e("OutboundLink")],1)]),a._v(" "),e("li",[a._v("创建 data 等文件夹以及相应文件")])]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-b643e3457b33702e.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-7502736be3f9cd10.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("blockquote",[e("p",[a._v("3.6版本以上 注意是 .cfg 文件")])]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-66392588a72fae88.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[a._v("配置 MongoDB 作为window服务启动\n编辑刚刚创建好的 mongodb.cfg 文件。")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("logpath=D:\\data\\log\\mongodb.log\nlogappend=true\ndbpath=D:\\data\\db\nport=27017\nserviceName=MongoDB\nserviceDisplayName=MongoDB\nbind_ip=127.0.0.1\n")])])]),e("p",[a._v("更多"),e("a",{attrs:{href:"https://my.oschina.net/pwd/blog/399374",target:"_blank",rel:"noopener noreferrer"}},[a._v("配置详情"),e("OutboundLink")],1)]),a._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[a._v("安装服务")])]),a._v(" "),e("blockquote",[e("p",[a._v("注意要用超级管理员权限")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('.\\mongod.exe -f "your config" --install\n')])])]),e("ol",{attrs:{start:"5"}},[e("li",[a._v("启动服务")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("net start MongoDB\n")])])]),e("p",[a._v("或者进入window图形化服务管理页面")]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-be0e4d30308101fc.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[a._v("开启安全认证\n打开命令行进入 mongo shell")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("mongo\n")])])]),e("p",[a._v("切换到admin数据库")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("use admin\n")])])]),e("p",[a._v("添加超级管理员")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('db.createUser(\n  {\n    user: "name",\n    pwd: "password",\n    roles: [ { role: "userAdminAnyDatabase", db: "admin" } ]\n  }\n)\n')])])]),e("p",[a._v("添加成功后，mongodb.conf 添加配置\nauth=true")]),a._v(" "),e("p",[a._v("重新window管理页面 启动服务。")]),a._v(" "),e("ol",{attrs:{start:"7"}},[e("li",[a._v("验证")])]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-649d4c46d028d2f2.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("p",[a._v("在没用户认证前，你是不能任何都会报错的。")]),a._v(" "),e("p",[a._v('利用db.auth("uername","password")')]),a._v(" "),e("p",[e("img",{attrs:{src:"http://upload-images.jianshu.io/upload_images/3368741-f11a199017827402.png?imageMogr2/auto-orient/strip|imageView2/2/w/1240",alt:""}})]),a._v(" "),e("p",[a._v('也可以在进入mongo shell时认证\nmongo "localhost/admin" -u "laoergege" -p "laoergege" --authenticationDatabase \t\t"admin"')]),a._v(" "),e("p",[a._v("角色说明：\nRead：允许用户读取指定数据库"),e("br"),a._v("\nreadWrite：允许用户读写指定数据库"),e("br"),a._v("\ndbAdmin：允许用户在指定数据库中执行管理函数，如索引创建、删除，查看统计或访问system.profile"),e("br"),a._v("\nuserAdmin：允许用户向system.users集合写入，可以找指定数据库里创建、删除和管理用户"),e("br"),a._v("\nclusterAdmin：只在admin数据库中可用，赋予用户所有分片和复制集相关函数的管理权限。"),e("br"),a._v("\nreadAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读权限"),e("br"),a._v("\nreadWriteAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的读写权限"),e("br"),a._v("\nuserAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的userAdmin权限"),e("br"),a._v("\ndbAdminAnyDatabase：只在admin数据库中可用，赋予用户所有数据库的dbAdmin权限。"),e("br"),a._v("\nroot：只在admin数据库中可用。超级账号，超级权限")]),a._v(" "),e("p",[a._v("另附两遍参考教程\nhttp://www.cnblogs.com/hanyinglong/p/5704320.html\nhttp://www.jianshu.com/p/a4e94bb8a052")])])}),[],!1,null,null,null);t.default=s.exports}}]);