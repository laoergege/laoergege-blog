有一个建议，就是在vue生成的传统目录里我觉得 api 这层是可以删除的。直接升级 service 层。

自从 vue reactive api 抽出后，我们就可以不再使用 vuex 去做全局数据管理

我一直挺反感类 redux 之类，需要写一堆模板代码。vue3 后，个人感觉 vuex 现存的意义也就是大项目下对 全局数据 做一套统一规范管理。

我们现在 state + api => service 

service 面向后端接口服务，service 可以复用在不同端上，通过 *tree-shaking* 去删除不需要的代码

```javascript
import http from "http";
import { Ref, computed} from "vue;

// commonjs 规范下，user 会被单例缓存
const user = Ref({})

export setUser = (user) => {
    user.value = user
}

export user = computed(() => {
    return user
})

---------------------------------------------

import userService from "user.service.ts"

setup() {
    userService.setUser({...})

    return {
        // 直接使用 user 响应数据源
        user: userService.user
    }
}
```



