---
tags:
 - http
---

# 前端必知的 http 基础

## http

HTTP 协议是基于 TCP 协议出现的，对 TCP 协议来说，TCP 协议是一条双向的通讯通道，HTTP 在 TCP 的基础上，规定了 Request-Response 的模式。

HTTP 是纯粹的文本协议，它是规定了使用 TCP 协议来传输文本格式的一个应用层协议。

### http 协议格式

```text
请求行（请求方法、请求的路径、协议版本）
请求头（用冒号分隔的名称和值）
/空行/
请求体

响应行（协议版本、状态码、状态文本）
响应头（用冒号分隔的名称和值）
/空行/
响应体
```

### 请求方法

- GET
- POST
- PUT：修改资源
- DELETE：删除资源
- HEAD：HEAD 则是跟 GET 类似，只返回响应头（想象一个业务情景：欲判断某个资源是否存在，我们通常使用GET，但这里用HEAD则意义更加明确。）
- CONNECT：多用于 HTTPS 和 WebSocket
- OPTIONS
- TRACE

### 状态码

- 1xx：临时回应，表示客户端请继续。
- 2xx：请求成功。
  - 200：请求成功。
- 3xx: 表示请求的目标有变化，希望客户端进一步处理。
  - 301&302：永久性与临时性跳转。
  - 304：跟客户端缓存没有更新。
- 4xx：客户端请求错误。
  - 403：无权限。
  - 404：表示请求的页面不存在。
  - 304：客户端本地已经有缓存的版本，并且在 Request 中告诉了服务端，当服务端通过时间或者 tag，发现没有更新的时候，就会返回一个不含 body 的 304 状态。
- 5xx：服务端请求错误。
  - 500：服务端错误。
  - 503：服务端暂时性错误，可以一会再试。

### 请求头、响应头常见字段

![picture 1](./images/dd11ef231b3da0c30d3d9a8d9356949d6e62db0a91e43814382abce59c4de6af.png)  

![picture 2](./images/49a18b9426fce1bb4be130fdbdef3e32c0306a8a2318bf8fe919c4e0779c610e.png)  

## http 版本发展

### http/1.1

### https

HTTPS 是使用加密通道来传输 HTTP 的内容。
HTTPS 首先与服务端建立一条 TLS，TLS 构建于 TCP 协议之上，它实际上是对传输的内容做一次加密。

### http/2

HTTP 2.0 最大的改进有两点：
- 支持服务端推送
- 支持 TCP 连接复用
- 使用二进制代理文本进行传输
  
TCP 连接复用，则使用同一个 TCP 连接来传输多个 HTTP 请求，避免了 TCP 连接建立时的三次握手开销，和初建 TCP 连接时传输窗口小的问题。
