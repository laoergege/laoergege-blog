# v2.27 升级兼容晓助手默认 webview

1. 新旧版本 webview 兼容

2. 对接新版本 API

   

   测试应用在新版本使用过程是否输入框或者样式兼容等问题




## 新旧版本 webview 兼容

由于晓助手新版本的 webview 将统一使用默认版本以及考虑到新版本普及率问题，需要做到**兼容新旧版本的 webview 运行**。

使用 **部署两套代码，UA 鉴别访问** 的方式，至于 一套代码，多 case 的方式 🤔....  简单容易实现，只不过代码只会更加耦合度、复杂度。但是相比下，做两套代码，在项目代码管理和工程上增加挑战。

两套代码形式

1. 多仓库

2. 代码多分支

3. 轻量级的 monorepo + pipeline

    pipeline

   - gitlab 
   - jenkins

目前选择尝试方案3、备用方案2。

项目地址 https://gitlab.xinghuolive.com/efficiency-engineer/hrms-monorepo



## 对接新版本 API

新版本默认 webview 提供的 API 大改，需要对接的API：

- 登陆授权
- 非全屏/导航栏 模式
- 软盘兼容
- 自助考勤跳转人事流程H5

晓助手对接文档参考 https://xiaojiaoyukeji.yuque.com/gvbet5/hr1no0/hfyb34

